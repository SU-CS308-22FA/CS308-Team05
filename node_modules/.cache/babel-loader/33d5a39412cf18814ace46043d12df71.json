{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\egeme\\\\OneDrive\\\\Belgeler\\\\CS308 frontend\\\\CS308-Team05\\\\src\\\\pages\\\\User.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport Axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const User = props => {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [pass, setPassword] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [loginstatus, setLoginstatus] = useState(\"\");\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(email);\n  };\n  const updateusername = () => {\n    Axios.post(\"http://localhost:3001/updateusername\", {\n      id: global.fullname,\n      username: username\n    }).then(response => {\n      if (response.data.message) {\n        setLoginstatus(response.data.message);\n      } else {\n        setLoginstatus(response.data[0].Username);\n        global.fullname = response.data[0].FullName;\n      }\n    });\n  };\n  const updateemail = () => {\n    Axios.post(\"http://localhost:3001/updateemail\", {\n      id: global.fullname,\n      email: email\n    }).then(response => {\n      if (response.data.message) {\n        setLoginstatus(response.data.message);\n      } else {\n        setLoginstatus(response.data[0].Username);\n        global.fullname = response.data[0].FullName;\n      }\n    });\n  };\n  const updatepassword = () => {\n    Axios.post(\"http://localhost:3001/updatepassword\", {\n      id: global.fullname,\n      password: pass\n    }).then(response => {\n      if (response.data.message) {\n        setLoginstatus(response.data.message);\n      } else {\n        setLoginstatus(response.data[0].Username);\n        global.fullname = response.data[0].FullName;\n      }\n    });\n  };\n  const deleteuser = () => {\n    Axios.post(\"http://localhost:3001/deleteuser\", {\n      id: global.fullname\n    }).then(response => {\n      if (response.data.message) {\n        setLoginstatus(response.data.message);\n      } else {\n        setLoginstatus(response.data[0].Username);\n        global.fullname = \"\";\n        history.push('/');\n      }\n    });\n    history.push('/');\n  };\n  let history = useHistory();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"User Settings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"user-form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"username\",\n        children: \"Username Change\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => setUsername(e.target.value),\n        type: \"username\",\n        name: \"username\",\n        id: \"username\",\n        placeholder: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: updateusername,\n        children: \"Change Now!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        children: \"Email Change\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => setEmail(e.target.value),\n        type: \"email\",\n        id: \"email\",\n        name: \"email\",\n        placeholder: \"email@gmail.com\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: updateemail,\n        children: \"Change Now!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"Password Change\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => setPassword(e.target.value),\n        type: \"password\",\n        id: \"password\",\n        name: \"password\",\n        placeholder: \"**\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: updatepassword,\n        children: \"Change Now!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: deleteuser,\n        color: \"red\",\n        children: \"Delete User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => history.push('/'),\n        children: \"Sign Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 7\n  }, this);\n};\n_s(User, \"EmjYeLjVwOOceJr5wqPk58bltFo=\", false, function () {\n  return [useHistory];\n});\n_c = User;\nvar _c;\n$RefreshReg$(_c, \"User\");","map":{"version":3,"names":["React","useState","Axios","useHistory","User","props","email","setEmail","pass","setPassword","username","setUsername","loginstatus","setLoginstatus","handleSubmit","e","preventDefault","console","log","updateusername","post","id","global","fullname","then","response","data","message","Username","FullName","updateemail","updatepassword","password","deleteuser","history","push","target","value"],"sources":["C:/Users/egeme/OneDrive/Belgeler/CS308 frontend/CS308-Team05/src/pages/User.js"],"sourcesContent":["import React, {useState} from \"react\"\r\nimport Axios from 'axios'\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport const User = (props) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [pass, setPassword] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [loginstatus, setLoginstatus] = useState(\"\");\r\n\r\n  const handleSubmit = (e) => {\r\n      e.preventDefault();\r\n      console.log(email);\r\n  }\r\n\r\n  const updateusername = () => {\r\n    Axios.post(\"http://localhost:3001/updateusername\", {\r\n        id: global.fullname,  \r\n        username: username,\r\n    }).then((response)=> {\r\n        if (response.data.message){\r\n            setLoginstatus(response.data.message);\r\n        } else {\r\n            setLoginstatus(response.data[0].Username);\r\n            global.fullname = response.data[0].FullName;\r\n        }\r\n    });\r\n  };\r\n\r\n  const updateemail = () => {\r\n    Axios.post(\"http://localhost:3001/updateemail\", {\r\n        id: global.fullname,  \r\n        email: email,\r\n    }).then((response)=> {\r\n        if (response.data.message){\r\n            setLoginstatus(response.data.message);\r\n        } else {\r\n            setLoginstatus(response.data[0].Username);\r\n            global.fullname = response.data[0].FullName;\r\n        }\r\n    });\r\n  };\r\n\r\n  const updatepassword = () => {\r\n    Axios.post(\"http://localhost:3001/updatepassword\", {\r\n        id: global.fullname,  \r\n        password: pass,\r\n    }).then((response)=> {\r\n        if (response.data.message){\r\n            setLoginstatus(response.data.message);\r\n        } else {\r\n            setLoginstatus(response.data[0].Username);\r\n            global.fullname = response.data[0].FullName;\r\n        }\r\n    });\r\n  };\r\n\r\n  const deleteuser = () => {\r\n    Axios.post(\"http://localhost:3001/deleteuser\", {\r\n        id: global.fullname,  \r\n    }).then((response)=> {\r\n        if (response.data.message){\r\n            setLoginstatus(response.data.message);\r\n        } else {\r\n            setLoginstatus(response.data[0].Username);\r\n            global.fullname = \"\";\r\n            history.push('/');\r\n        }\r\n    });\r\n    history.push('/');\r\n  };\r\n\r\n  let history = useHistory();\r\n\r\n  return (\r\n      <div className = \"auth-form-container\">\r\n          <h2>User Settings</h2>\r\n          <form className=\"user-form\" onSubmit = {handleSubmit}>\r\n              <label htmlFor = \"username\">Username Change</label>\r\n              <input onChange={(e) => setUsername(e.target.value)} type = \"username\" name = \"username\" id = \"username\" placeholder = \"Username\"/>\r\n              <button onClick={updateusername}>Change Now!</button>\r\n              <label htmlFor = \"email\">Email Change</label>\r\n              <input onChange={(e) => setEmail(e.target.value)} type = \"email\" id = \"email\" name = \"email\" placeholder = \"email@gmail.com\"/>\r\n              <button onClick={updateemail}>Change Now!</button>\r\n              <label htmlFor = \"password\">Password Change</label>\r\n              <input onChange={(e) => setPassword(e.target.value)} type = \"password\" id = \"password\" name = \"password\" placeholder = \"**\"/>\r\n              <button onClick={updatepassword}>Change Now!</button>\r\n              <label> </label>\r\n              <button onClick={deleteuser} color = \"red\" >Delete User</button>\r\n              <label> </label>\r\n              <button onClick={() => history.push('/')}>Sign Out</button>\r\n          </form>\r\n      </div>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}